{"version":3,"sources":["../src/EventHistory.js"],"names":["log","Log","component","EventHistory","props","puller","eventPuller","undefined","EventPuller","forEach","fn","bind","callback","fromBlock","toBlock","eventName","options","contract","pullEvents"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;AAEA,IAAMA,MAAM,IAAIC,sBAAJ,CAAQ,EAACC,WAAW,cAAZ,EAAR,CAAZ;;IAEqBC,Y;AACnB,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,SAAKC,MAAL,GAAcD,QAAMA,MAAME,WAAZ,GAAwBC,SAAtC;AACA,QAAG,CAAC,KAAKF,MAAT,EAAiB;AACf,WAAKA,MAAL,GAAc,IAAIG,wBAAJ,EAAd;AACD;;AAED,KACE,eADF,EAEEC,OAFF,CAEU;AAAA,aAAI,MAAKC,EAAL,IAAS,MAAKA,EAAL,EAASC,IAAT,CAAc,KAAd,CAAb;AAAA,KAFV;AAGD;;;;wCAQEC,Q,EAAU;AAAA,UALXC,SAKW,QALXA,SAKW;AAAA,UAJXC,OAIW,QAJXA,OAIW;AAAA,UAHXC,SAGW,QAHXA,SAGW;AAAA,UAFXC,OAEW,QAFXA,OAEW;AAAA,UADXC,QACW,QADXA,QACW;;AACX,aAAO,KAAKZ,MAAL,CAAYa,UAAZ,CAAuB;AAC5BL,4BAD4B;AAE5BC,wBAF4B;AAG5BC,4BAH4B;AAI5BC,wBAJ4B;AAK5BC;AAL4B,OAAvB,EAMJL,QANI,CAAP;AAOD;;;;;;kBA1BkBT,Y","file":"EventHistory.js","sourcesContent":["import EventPuller from 'eth-event-puller';\nimport Log from 'stream-logger';\n\nconst log = new Log({component: \"EventHistory\"});\n\nexport default class EventHistory {\n  constructor(props) {\n    this.puller = props?props.eventPuller:undefined;\n    if(!this.puller) {\n      this.puller = new EventPuller();\n    }\n\n    [\n      'recoverEvents'\n    ].forEach(fn=>this[fn]=this[fn].bind(this));\n  }\n\n  recoverEvents({\n    fromBlock,\n    toBlock,\n    eventName,\n    options,\n    contract\n  }, callback) {\n    return this.puller.pullEvents({\n      fromBlock,\n      toBlock,\n      eventName,\n      options,\n      contract\n    }, callback);\n  }\n}\n"]}